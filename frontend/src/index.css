/* ============================================
   Google Fonts - Space Grotesk, DM Sans & IBM Plex Mono
   ============================================ */
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=IBM+Plex+Mono:wght@400;600;700&family=Space+Grotesk:wght@500;600;700&display=swap');

@import "tailwindcss";

/* ============================================
   Tailwind CSS v4 Theme Configuration
   Korsana â€” Athletic Precision Palette
   ============================================ */
@theme {
  /* Core Identity */
  --color-navy:        #1B2559;
  --color-navy-light:  #2D3A7A;
  --color-navy-dark:   #111940;

  /* Accent Colors */
  --color-sage:        #5B8C3E;
  --color-sage-light:  #E8F0DE;
  --color-coral:       #E8725A;
  --color-coral-light: #FFF0ED;
  --color-amber:       #E5A830;
  --color-amber-light: #FFF8E8;

  /* Surfaces */
  --color-bg-app:      #F5F6FA;
  --color-bg-surface:  #FFFFFF;
  --color-bg-elevated: #FAFBFF;
  --color-bg-sage:     #F0F5EA;

  /* Text */
  --color-text-primary:   #111940;
  --color-text-secondary: #5A6178;
  --color-text-muted:     #8B91A8;

  /* Borders */
  --color-border:       #E1E4ED;
  --color-border-light: #ECEEF5;

  /* Status */
  --color-success: #2E8B57;
  --color-warning: #D4920A;
  --color-error:   #D94343;

  /* Legacy aliases (so existing Tailwind classes like bg-primary still work) */
  --color-primary:    #1B2559;
  --color-secondary:  #5B8C3E;
  --color-accent:     #E8725A;
  --color-deep-green: #111940;
  --color-cream:      #F0F5EA;
  --color-slate:      #5A6178;

  /* Typography */
  --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-heading: 'Space Grotesk', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-mono: 'IBM Plex Mono', 'JetBrains Mono', monospace;

  /* Layout */
  --spacing-container: 1280px;
}

/* ============================================
   Semantic CSS Variables
   ============================================ */
:root {
  --color-bg-primary: #F5F6FA;
  --color-bg-surface: #ffffff;
  --color-bg-muted: #ECEEF5;
  --color-bg-cream: #F0F5EA;

  --color-text-primary: #111940;
  --color-text-secondary: #5A6178;
  --color-text-muted: #8B91A8;
  --color-text-inverse: #ffffff;

  --color-border: #E1E4ED;
  --color-border-light: #ECEEF5;
}

/* ============================================
   Base Styles
   ============================================ */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  line-height: 1.2;
  font-weight: 600;
}

/* ============================================
   Component Layer
   ============================================ */
@layer components {

  /* --- Buttons --- */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    font-family: var(--font-sans);
  }

  .btn-sm {
    @apply px-4 py-2 text-sm;
  }

  .btn-md {
    @apply px-6 py-3 text-base;
  }

  .btn-lg {
    @apply px-8 py-4 text-lg;
  }

  .btn-primary {
    @apply bg-navy text-white shadow-md;
    @apply hover:bg-navy-light hover:shadow-lg;
    @apply active:scale-[0.98];
    @apply focus:ring-navy/40;
  }

  .btn-secondary {
    @apply bg-sage text-white shadow-md;
    @apply hover:shadow-lg hover:brightness-110;
    @apply active:scale-[0.98];
    @apply focus:ring-sage/40;
  }

  .btn-coral {
    @apply bg-coral text-white shadow-md;
    @apply hover:shadow-lg hover:brightness-110;
    @apply active:scale-[0.98];
    @apply focus:ring-coral/40;
  }

  .btn-accent {
    @apply bg-coral text-white shadow-md;
    @apply hover:shadow-lg hover:brightness-110;
    @apply active:scale-[0.98];
    @apply focus:ring-coral/40;
  }

  .btn-outline {
    @apply bg-transparent border-2 border-navy text-navy;
    @apply hover:bg-navy/5;
    @apply active:scale-[0.98];
    @apply focus:ring-navy/40;
  }

  .btn-outline-light {
    @apply bg-transparent border-2 border-white/30 text-white;
    @apply hover:bg-white/10 hover:border-white/50;
    @apply active:scale-[0.98];
  }

  .btn-ghost {
    @apply bg-transparent text-text-secondary;
    @apply hover:bg-navy/5 hover:text-navy;
  }

  /* --- Cards --- */
  .card {
    @apply bg-white rounded-xl border border-border shadow-sm;
    @apply p-6 transition-all duration-200;
  }

  .card-hover {
    @apply hover:shadow-md hover:-translate-y-0.5;
  }

  .card-featured {
    @apply p-8 shadow-md;
  }

  /* --- Metric Components --- */
  .metric-card {
    @apply bg-white rounded-xl border border-border shadow-sm p-6;
    @apply relative overflow-hidden transition-all duration-200;
    @apply hover:shadow-md;
  }

  .metric-card-accent {
    @apply before:absolute before:top-0 before:left-0 before:w-1 before:h-full;
  }

  .metric-card-accent-primary {
    @apply before:bg-navy;
  }

  .metric-card-accent-secondary {
    @apply before:bg-sage;
  }

  .metric-card-accent-accent {
    @apply before:bg-coral;
  }

  .metric-label {
    @apply text-xs font-semibold uppercase tracking-wider mb-2;
    color: var(--color-text-muted);
  }

  .metric-value-xl {
    @apply text-4xl md:text-5xl font-bold tracking-tight leading-none;
    font-family: var(--font-mono);
    color: var(--color-text-primary);
  }

  .metric-value-lg {
    @apply text-3xl font-bold tracking-tight leading-none;
    font-family: var(--font-mono);
    color: var(--color-text-primary);
  }

  .metric-value-md {
    @apply text-2xl font-bold tracking-tight leading-none;
    font-family: var(--font-mono);
    color: var(--color-text-primary);
  }

  .metric-subtext {
    @apply text-xs font-medium mt-2;
    color: var(--color-text-secondary);
  }

  /* --- Form Inputs --- */
  .input {
    @apply w-full px-4 py-3 rounded-lg border border-border;
    @apply bg-white placeholder-text-muted;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-navy/20 focus:border-navy;
    color: var(--color-text-primary);
  }

  .input-error {
    @apply border-error focus:ring-error/20 focus:border-error;
  }

  .label {
    @apply block text-sm font-medium mb-2;
    color: var(--color-text-primary);
  }

  /* --- Navigation --- */
  .nav-link {
    @apply px-4 py-2 font-medium rounded-lg transition-colors duration-200;
    @apply cursor-pointer no-underline;
    color: var(--color-text-secondary);
  }

  .nav-link:hover {
    color: var(--color-navy);
    @apply bg-navy/5;
  }

  .nav-link-active {
    @apply font-semibold;
    color: var(--color-navy);
    @apply bg-navy/10;
  }

  .nav-link-light {
    @apply text-white/70 hover:text-white;
    @apply px-4 py-2 font-medium transition-colors duration-200 cursor-pointer no-underline;
  }

  .nav-link-light-active {
    @apply text-white;
    border-bottom: 2px solid white;
  }

  /* --- Section Utilities --- */
  .section-padding {
    @apply py-16 md:py-20 lg:py-24;
  }

  .section-padding-sm {
    @apply py-10 md:py-14;
  }

  .container-padding {
    @apply px-6 md:px-8;
  }

  /* --- Table Styles --- */
  .table-row {
    @apply border-b border-border-light last:border-0;
    @apply hover:bg-bg-elevated transition-colors;
  }

  .table-cell {
    @apply px-6 py-4;
  }

  .table-header {
    @apply px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider;
    @apply border-b border-border;
    color: var(--color-text-muted);
    background-color: var(--color-bg-elevated);
  }
}

/* ============================================
   Animations
   ============================================ */
.animate-enter {
  animation: enter 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  opacity: 0;
  transform: translateY(20px);
}

@keyframes enter {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-slide-up {
  animation: slideUp 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-pulse-subtle {
  animation: pulseSubtle 2s ease-in-out infinite;
}

@keyframes pulseSubtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.animate-shimmer {
  background: linear-gradient(90deg,
      var(--color-border-light) 0%,
      var(--color-bg-muted) 50%,
      var(--color-border-light) 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* ============================================
   Coach Page - Mobile Responsive
   ============================================ */
.coach-container {
  padding: 2rem 1.5rem;
}

.coach-header-avatar {
  width: 48px;
  height: 48px;
  font-size: 1.25rem;
}

.coach-header-title {
  font-size: 1.75rem;
}

.coach-messages {
  min-height: 400px;
}

.coach-msg-avatar {
  width: 36px;
  height: 36px;
}

.coach-msg-bubble {
  max-width: 75%;
}

.coach-prompts-grid {
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

.coach-hint {
  display: block;
}

.coach-nav-email {
  display: inline;
}

@media (max-width: 768px) {
  .coach-container { padding: 1rem 0.75rem; }
  .coach-header-avatar { width: 40px; height: 40px; font-size: 1.1rem; }
  .coach-header-title { font-size: 1.35rem; }
  .coach-messages { min-height: 250px; }
  .coach-msg-avatar { width: 30px; height: 30px; font-size: 0.75rem; }
  .coach-msg-bubble { max-width: 85%; padding: 0.75rem 1rem; }
  .coach-prompts-grid { grid-template-columns: 1fr; }
  .coach-hint { display: none; }
  .coach-nav-email { display: none; }
}

@media (max-width: 480px) {
  .coach-container { padding: 0.75rem 0.5rem; }
  .coach-header-title { font-size: 1.15rem; }
  .coach-msg-bubble { max-width: 90%; }
}

/* ============================================
   Reduced Motion Support
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ============================================
   Scrollbar Styling
   ============================================ */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-muted);
}

::-webkit-scrollbar-thumb {
  background: var(--color-text-muted);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-navy);
}

/* ============================================
   Selection Styling
   ============================================ */
::selection {
  background-color: var(--color-sage);
  color: white;
}
